---
import { getImageFormatUrl } from 'access/media';
import type { Animal } from "src/types/animal";

interface Props {
  animal: Animal;
}
const {animal}: Props = Astro.props;
---

<a href={"/tierartikel" + animal.name} class="animal-tile shadow fade-in" id={`animal-card-{{animal.id}}`}>
    <img src={getImageFormatUrl(animal.thumbnail, 'small')} [alt]="animal.thumbnail?.alternativeText"/>
    <div class="sui flex-x center ai-center name-row">
        <span class="sui text-oswald text-secondary text-center p-1 px-2">{animal.name}</span>
        <img class="gender-icon" src={`img/${animal.gender}.svg`} alt={animal.gender}/>
    </div>
</a>

<style lang="scss">
    @use "../../style/colors" as *;
    @use "../../style/sui/variables" as *;

    .animal-tile {
        width: 260px;
        height: 290px;
        transition: transform 0.23s, box-shadow 0.4s;
        display: block;
        background-color: $neutral100;
        position: relative;
        color: inherit;
        border-radius: 6px;
        overflow: hidden;

        img {
            width: 100%;
            height: 230px;
            object-fit: cover;
        }

        &:hover {
            transform: scale(1.03);
            box-shadow: 0 0 16px #0006;
        }

        .name-row {
            padding-left: 0.5rem;
            padding-top: 0.3rem;
            font-size: $fontsize-h3;
            display: flex;
            justify-content: center;
        }

        .gender-icon {
            width: 1.6rem;
            height: 1.6rem;
        }
        .bubbles {
            position: absolute;
            bottom: 68px;
            left: 12px;
            display: flex;
            padding: 0;
            flex-direction: column;
            gap: 8px;
            align-items: start;
            font-family: oswald, system-ui;

            color: #fff;

            span {
                background-color: $primary;
                border-radius: 40px;
                padding: 2px 8px;
                font-size: $fontsize-small;
                font-weight: 100;

                &.emergency {
                    background-color: $cto;
                }
            }
        }
    }

    @media (max-width: 700px) {
        .animal-tile {
            width: calc(50dvw - 50px);
        }
    }

    @media (max-width: 550px) {
        .animal-tile {
            width: calc(100dvw - 60px);
        }
    }

</style>
