---
import CmsImg from '@shared/components/ui/CmsImg.astro';
import type { CmsAnimal } from 'sheltify-lib/cms-types';
interface Props {
  animal: CmsAnimal,
}
const {animal} = Astro.props;
---


<div class="themable animal-card shadow fade-in" id={'animal-card-' + animal.ID}>
  <CmsImg cssClass="portrait" img={animal.Portrait! /*TODO: handle missing image*/} size={'medium'}/>

  <div class="sui flex-x center ai-center name-row">
    <span class="sui text-center p-1 px-2">{animal.Name}</span>

    <span class="gender-icon">{animal.Gender == 'male' ? '♂' : '♀'}</span>
  </div>
</div>

<style lang="scss">

  .animal-card {
    width: 210px;
    height: 210px;
    display: block;
    background-color: #fff;
    border: 1px solid var(--c-primary);
    position: relative;
    color: inherit;
    overflow: hidden;

    .name-row {
      display: flex;
      justify-content: center;
    }

    .bubbles {
      position: absolute;
      bottom: 68px;
      left: 12px;
      display: flex;
      padding: 0;
      flex-direction: column;
      gap: 8px;
      align-items: start;
      font-family: oswald, system-ui;

      color: #fff;

      span {
        background-color: var(--c-primary);
        border-radius: 40px;
        padding: 2px 8px;
        font-size: 0.9rem;
        font-weight: 100;

        &.emergency {
          //background-color: $cto;
        }
      }
    }
  }

  .animal-card :global(.portrait) {
    width: 100%;
    height: 160px;
  }

  @media (max-width: 700px) {
    .animal-card {
      width: calc(50dvw - 50px);
    }
  }

  @media (max-width: 550px) {
    .animal-card {
      width: calc(100dvw - 60px);
    }
  }
</style>
