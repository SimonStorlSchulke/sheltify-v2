---
import { cms } from '@shared/cms/sheltify-access.ts';
import ImageGrid from '@shared/interactive/ImageGrid.svelte';
import type { SectionImages } from 'sheltify-lib/article-types.ts';
interface Props {
  section: SectionImages,
}

const {section} = Astro.props;
let images = section.Content.MediaFiles;

// refetch images because they are only present in the static json of the article, so not guaranteed to be updated
images = await cms.getMediaFilesByIds(images.map(i => i.ID));

---

<ImageGrid images={images} layout={section.Content.Layout} size={section.Content.Size} client:visible/>
