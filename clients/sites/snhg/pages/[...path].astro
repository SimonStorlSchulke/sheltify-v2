---
import { cms } from '@shared/cms/sheltify-access.ts';
import Page from '@shared/components/Page.astro';

import SnhgLayout from '../layouts/SnhgLayout.astro';

export async function getStaticPaths() {
  const sites = (await cms.getPages()).map(page => ({
    params: {path: page.Path}
  }));
  return sites;
}

const {path} = Astro.params;
---

<SnhgLayout>
  <Page path={path}/>
</SnhgLayout>
